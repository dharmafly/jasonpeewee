/*!
    Jason Peewee
    A cache-friendly JSONP super-assistant

    by Premasagar Rose <http://premasagar.com>,
       Dharmafly <http://dharmafly.com>

    Repo: <https://github.com/dharmafly/jasonpeewee>
    MIT license: http://opensource.org/licenses/mit-license.php

*/var h=this;function l(a,b){var c=a[b];return m(b)+"="+m(c)}function n(a,b){var c="",e,g,d,k;if(!0===b){e=p(a).sort();d=0;for(k=e.length;d<k;d++)g=e[d],d&&(c+="&"),c+=l(a,g)}else for(g in a)a.hasOwnProperty(g)&&(c+=l(a,g));return c}function r(a){var b=s[a]=[];t[a]=function(c){var e=b.length,g=1<e,d;for(d=0;d<e;d++)b.shift()(c);g||u(a)};return b}function u(a){s[a].length||(delete s[a],delete t[a])}function v(a,b,c,e){function g(){f.onload=f.onreadystatechange=f.onerror=null;x.removeChild(f);d&&d.call(h,q)}function d(a){if(!a&&(a=s[j]))(a=a.shift())&&a({b:"jasonpeewee",error:"JSONP failed",url:A}),u(j)}var k,j;"function"===typeof b&&(c=b,b=null);k=e&&e.a||"callback";a+=-1===a.indexOf("?")?"?":"&";a+=b?n(b,!0)+"&":"";j=w(a);a+=k+"="+v.path+"."+j;(s[j]||r(j)).push(c);var A=a;b=a;var x=y.head||y.getElementsByTagName("head")[0],f=y.createElement("script"),q=!1;f.type="text/javascript";f.charset=e&&e.charset||"utf-8";f.src=b;f.onload=f.onreadystatechange=function(){var a=this.readyState;if(!q&&(!a||"complete"===a||"loaded"===a))q=!0,g()};f.onerror=g;x.appendChild(f);return a}var z=h.define,y=h.document,m=h.encodeURIComponent,p=h.Object.keys,t={},s={},w,B=/[^\w\$]+/ig;w=function(a){return a?a.replace(B,"_"):"_"};p||(p=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b});h._jasonpeeweeFn=t;v.path="_jasonpeeweeFn";v.encodeURLQueryString=n;"function"===typeof z&&z.amd?z([],function(){return v}):h.jasonpeewee=v;